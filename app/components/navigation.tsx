import { Link, useLocation } from "react-router";

import { cn } from "~/lib/utils";
import Sidebar from "./sidebar";

export const tabs = [
  {
    title: "Beranda",
    to: "/sheets",
    icon: (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        fill="none"
        stroke="currentColor"
        strokeLinecap="round"
        strokeLinejoin="round"
        strokeWidth="2"
        viewBox="0 0 24 24"
      >
        <path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"></path>
        <path d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
      </svg>
    ),
  },
  {
    title: "Folder",
    to: "/folder",
    icon: (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        fill="none"
        stroke="currentColor"
        strokeLinecap="round"
        strokeLinejoin="round"
        strokeWidth="2"
        viewBox="0 0 24 24"
      >
        <path d="m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2"></path>
      </svg>
    ),
  },
  {
    title: "Lainnya",
    to: "/account",
    icon: (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        fill="none"
        stroke="currentColor"
        strokeLinecap="round"
        strokeLinejoin="round"
        strokeWidth="2"
        viewBox="0 0 24 24"
      >
        <path d="M4 12h16M4 6h16M4 18h16"></path>
      </svg>
    ),
  },
];

export default function Navigation({
  noNavigationOnMobile = true,
}: {
  noNavigationOnMobile?: boolean;
}) {
  const location = useLocation();
  return (
    <>
      {!noNavigationOnMobile && (
        <div className="lg:hidden">
          <nav className="fixed top-0 w-full bg-background left-0 flex items-center justify-center z-20 shadow-sm border-b lg:border-b-transparent lg:shadow-none h-[var(--header-height-mobile)] lg:h-[var(--header-height)]">
            <div className="max-w-screen-2xl lg:px-14 flex flex-col lg:flex-row items-center w-full h-full justify-between lg:gap-2 mx-auto">
              <div className="flex-1 inline-flex">
                <Link
                  to="/sheets"
                  prefetch="intent"
                  className="flex justify-start items-center tap-highlight-transparent w-fit h-full"
                >
                  <SVGLogo />
                </Link>
              </div>
              <div
                className={cn(
                  "flex flex-1 justify-center items-center lg:justify-end w-full h-full",
                )}
              >
                {tabs.map((tab) => {
                  const isMatch = location.pathname.startsWith(tab.to);
                  return (
                    <Link
                      to={tab.to}
                      key={tab.title}
                      prefetch="intent"
                      className={cn(
                        "h-full w-full lg:w-fit lg:px-6 cursor-pointer border-b-[3px] border-white inline-flex justify-center items-center lg:border-transparent",
                        isMatch && "border-primary-500",
                      )}
                    >
                      <div
                        className={cn(
                          "flex gap-1 items-center text-neutral-500",
                          isMatch && "text-primary-500",
                        )}
                      >
                        <span className="text-sm font-bold lg:text-base lg:font-semibold">
                          {tab.title}
                        </span>
                      </div>
                    </Link>
                  );
                })}
              </div>
            </div>
          </nav>
          <div className="h-[calc(var(--header-height-mobile)_-_32px)] lg:h-[calc(var(--header-height)_-_56px)] bg-background"></div>
        </div>
      )}
      <Sidebar />
    </>
  );
}

export function PublicNavigation() {
  return (
    <>
      <nav className="fixed top-0 w-full bg-background left-0 flex items-center justify-center z-20 h-[var(--header-height-mobile)] lg:h-[var(--header-height)]">
        <div className="max-w-screen-2xl lg:px-14 flex items-center w-full h-full justify-between lg:gap-2 mx-auto px-6">
          <Link
            to="/"
            prefetch="intent"
            className="flex-1 lg:flex-initial inline-flex justify-start items-center tap-highlight-transparent w-fit h-full"
          >
            <SVGLogo />
          </Link>
          <div className="flex items-center justify-end gap-2 h-full flex-1">
            <a
              href="https://github.com/dev-xo/remix-auth-totp"
              className="flex h-8 w-8 items-center justify-center gap-2 rounded-md hover:opacity-60"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                className="h-6 w-6 text-neutral-950"
                viewBox="0 0 24 24"
              >
                <path
                  d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"
                  fill="currentColor"
                />
              </svg>
            </a>
          </div>
        </div>
      </nav>
      <div className="h-[calc(var(--header-height-mobile)_-_32px)] lg:h-[calc(var(--header-height)_-_56px)] bg-background"></div>
    </>
  );
}

export function SVGLogo() {
  return (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="155"
      height="33"
      fill="none"
      viewBox="0 0 155 33"
    >
      <path fill="#fff" d="M1.789 0h25.464v32.62H1.789z"></path>
      <path
        fill="#000"
        fillRule="evenodd"
        d="M2.89 8.673v18.212a2.89 2.89 0 0 0 2.892 2.89h17.345a2.89 2.89 0 0 0 2.89-2.89V8.672zM0 2.89A2.89 2.89 0 0 1 2.89 0h23.127a2.89 2.89 0 0 1 2.891 2.89v26.886a2.89 2.89 0 0 1-2.89 2.89H2.89A2.89 2.89 0 0 1 0 29.776zm5.493 10.88c0-.58.47-1.051 1.052-1.051h11.193c.581 0 1.052.47 1.052 1.052v.786c0 .581-.47 1.053-1.052 1.053H6.545a1.05 1.05 0 0 1-1.052-1.053zm0 4.915c0-.58.47-1.052 1.052-1.052h7.724c.581 0 1.052.471 1.052 1.052v.787c0 .58-.47 1.052-1.052 1.052H6.545a1.05 1.05 0 0 1-1.052-1.052zm1.052 3.863c-.581 0-1.052.47-1.052 1.052v.786c0 .581.47 1.052 1.052 1.052h15.53c.58 0 1.052-.47 1.052-1.052v-.786c0-.581-.471-1.052-1.053-1.052zM21.248 6.07a1.88 1.88 0 1 0 0-3.758 1.88 1.88 0 0 0 0 3.758"
        clipRule="evenodd"
      ></path>
      <path
        fill="#000"
        d="M153.785 19.789q.334 0 .637-.042a7 7 0 0 0 .578-.117v1.114q-.335.16-1.006.294a7 7 0 0 1-1.425.134 3.6 3.6 0 0 1-1.048-.143 1.8 1.8 0 0 1-.796-.46 2.1 2.1 0 0 1-.503-.83q-.176-.52-.176-1.275v-5.49h-1.291v-.88q.553 0 .989-.219.436-.218.696-.503.52-.544.788-1.701h1.425V11.8h2.196v1.173h-2.196v5.315q0 .78.26 1.14.268.36.872.36M144.701 21.172q-2.172 0-3.32-1.24-1.131-1.225-1.131-3.48 0-2.406 1.114-3.646 1.099-1.224 3.144-1.224 1.895 0 2.942 1.048.52.52.797 1.29.276.772.276 1.795v.88h-5.625q.026.864.193 1.484.168.62.453 1.022.57.788 1.651.788.847 0 1.476-.377a2.5 2.5 0 0 0 .947-1.014q.46.252.461.838 0 .368-.201.704-.201.327-.62.579-.42.251-1.057.402-.629.15-1.5.151m-.159-8.475q-.722 0-1.149.713-.419.711-.461 2.087h2.968q0-.654-.076-1.174a3 3 0 0 0-.235-.88q-.344-.746-1.047-.746M135.751 21.172q-2.171 0-3.319-1.24-1.132-1.225-1.132-3.48 0-2.406 1.115-3.646 1.098-1.224 3.144-1.224 1.894 0 2.942 1.048.52.52.796 1.29.277.772.277 1.795v.88h-5.625q.025.864.193 1.484.167.62.453 1.022.57.788 1.651.788.846 0 1.475-.377a2.5 2.5 0 0 0 .948-1.014q.46.252.461.838 0 .368-.202.704-.2.327-.62.579-.418.251-1.056.402-.628.15-1.501.151m-.159-8.475q-.721 0-1.148.713-.42.711-.461 2.087h2.967q0-.654-.075-1.174a3 3 0 0 0-.235-.88q-.343-.746-1.048-.746M130.909 20.09v.914h-3.814v-5.65q0-1.039-.293-1.676-.285-.637-1.082-.637-.57 0-.897.377-.326.377-.461.99a6 6 0 0 0-.134 1.29v3.278q0 .687.319.905.318.21.922.21h.05v.913h-5.273v-.913h.034q.637 0 .989-.218.352-.227.352-.964V9.914q0-.63-.385-.838a1.73 1.73 0 0 0-.839-.21h-.201v-.905h4.032v2.825q0 .335-.025.72-.017.387-.042.713l-.033.386-.034.369h.151q.494-.922 1.115-1.157.628-.235 1.509-.235.662 0 1.19.193.537.192.897.595.369.402.553 1.031.193.62.193 1.492v3.982q0 .747.26.98.269.236.897.236zM115.237 21.172q-1.157 0-1.928-.218-.764-.218-1.233-.561-.46-.345-.662-.772a2 2 0 0 1-.201-.846q0-.848.578-1.224.58-.377 1.367-.377 0 .737.176 1.299.175.553.486.922.62.755 1.685.755.964 0 1.542-.52.588-.52.587-1.341 0-.83-.704-1.409a4.5 4.5 0 0 0-.905-.553q-.537-.26-1.258-.562-1.785-.738-2.506-1.6a2.9 2.9 0 0 1-.545-.982 4 4 0 0 1-.159-1.156q0-.788.318-1.426.32-.636.88-1.09 1.158-.938 3.01-.938.947 0 1.635.159.687.15 1.14.42.88.536.88 1.416 0 .661-.57 1.048-.57.377-1.543.377 0-.537-.192-1.081a2.2 2.2 0 0 0-.596-.923q-.402-.368-1.031-.368-.712 0-1.207.41-.486.41-.486 1.174 0 .36.117.679.126.319.436.62.319.31.864.62.544.303 1.416.654 1.735.705 2.524 1.543.393.436.57.956.184.51.184 1.14 0 1.676-1.266 2.707-.612.495-1.475.771-.855.277-1.928.277M103.407 21.172q-2.171 0-3.32-1.24-1.131-1.225-1.131-3.48 0-2.406 1.114-3.646 1.099-1.224 3.144-1.224 1.895 0 2.942 1.048.52.52.797 1.29.276.772.276 1.795v.88h-5.624q.025.864.192 1.484.168.62.453 1.022.57.788 1.651.788.847 0 1.476-.377a2.5 2.5 0 0 0 .947-1.014q.46.252.461.838 0 .368-.201.704-.201.327-.62.579-.42.251-1.057.402-.628.15-1.5.151m-.159-8.475q-.721 0-1.149.713-.419.711-.461 2.087h2.968q0-.654-.076-1.174a3 3 0 0 0-.235-.88q-.344-.746-1.047-.746M94.592 21.172q-.93 0-1.585-.15-.654-.151-1.073-.42a1.7 1.7 0 0 1-.603-.637 1.7 1.7 0 0 1-.193-.796q0-.512.243-.797t.612-.394q.37-.117.746-.117 0 1.023.495 1.668.495.637 1.358.637.796 0 1.249-.318a1 1 0 0 0 .452-.855q0-.562-.452-.931-.462-.369-1.66-.78a10 10 0 0 1-1.224-.51 4 4 0 0 1-.897-.63q-.746-.704-.746-1.819 0-.687.26-1.198.268-.52.754-.855.486-.345 1.165-.503a6.3 6.3 0 0 1 1.51-.168q.812 0 1.382.142.57.135.931.36.36.227.528.512t.168.579q0 .578-.411.88-.402.302-1.341.302 0-.855-.386-1.325-.377-.477-1.123-.478-.563 0-.981.268-.41.27-.41.797 0 .277.108.495.11.218.37.41.267.2.712.403.452.201 1.157.444.57.201 1.047.461.487.251.839.578.344.336.536.763.193.42.193.964 0 1.442-.972 2.222-.99.796-2.758.796M91.04 20.09v.914h-3.814v-5.65q0-1.039-.293-1.676-.285-.637-1.081-.637-.57 0-.897.377t-.462.989q-.134.604-.134 1.291v3.278q0 .687.319.905.319.21.922.21h.05v.913h-5.272v-.913h.033q.637 0 .99-.218.351-.227.351-.964v-5.08q0-.696-.318-.906-.32-.21-.922-.21h-.05V11.8h3.604l.226 1.224h.084q.494-.923 1.115-1.182.63-.26 1.509-.26.662 0 1.19.193.537.193.897.595.369.402.554 1.031.192.62.192 1.492v3.982q0 .746.26.98.27.236.897.236zM76.34 21.172q-2.17 0-3.32-1.24-1.131-1.225-1.131-3.48 0-2.406 1.115-3.646 1.098-1.224 3.143-1.224 1.895 0 2.943 1.048.52.52.796 1.29.277.772.277 1.795v.88h-5.625q.025.864.193 1.484t.453 1.022q.57.788 1.65.788.847 0 1.476-.377.63-.386.948-1.014.46.252.46.838 0 .368-.2.704-.202.327-.62.579-.42.251-1.057.402-.63.15-1.5.151m-.159-8.475q-.72 0-1.148.713-.42.711-.462 2.087h2.968q0-.654-.075-1.174a3 3 0 0 0-.235-.88q-.345-.746-1.048-.746M61.087 25.129v-.914h.201q.47 0 .847-.226.377-.227.377-.889v-9.188q0-.72-.302-.955-.292-.243-.855-.243h-.117V11.8h3.361l.31 1.341h.076q.395-.705 1.04-1.106.645-.403 1.584-.403.855 0 1.509.277.662.276 1.106.872.906 1.198.906 3.655 0 2.448-.889 3.63-.863 1.148-2.565 1.148-.981 0-1.593-.369a2.87 2.87 0 0 1-.98-1.006h-.118l.034.386.033.385q.025.319.042.68.025.36.025.628V23.1q0 .662.377.889.377.225.839.226h.377v.914zm5.784-5.19q.864 0 1.24-.871.37-.88.37-2.616 0-1.692-.37-2.623-.376-.915-1.223-.914-.99 0-1.4.905-.202.453-.285 1.115-.084.654-.084 1.5 0 .89.084 1.552.083.653.285 1.09.403.863 1.383.863"
      ></path>
      <path
        fill="#000"
        d="M58.09 13.225q0-.31-.244-.41-.235-.1-.637-.101h-.05V11.8h3.965v.914h-.151q-.544 0-.897.252-.344.243-.838.846l-1.769 2.163 2.523 3.21q.394.495.721.705.336.2.654.2h.226v.915h-5.465v-.914h.092q1.03 0 1.031-.562a1 1 0 0 0-.16-.503 5 5 0 0 0-.494-.679l-.98-1.19-1.2 1.492q-.158.21-.26.428-.1.218-.1.435 0 .285.243.436.243.143.822.143h.05v.914h-4.359v-.914h.15q.638 0 1.007-.252.378-.26.863-.846l2.163-2.607-2.163-2.767q-.713-.905-1.475-.905h-.226V11.8h5.398v.914h-.059q-.972 0-.972.495 0 .3.394.788l.956 1.173.813-.98q.2-.261.31-.495a1.04 1.04 0 0 0 .117-.47"
      ></path>
      <path
        fill="#000"
        d="M49.14 15.12h-4.074v4.837h3.437q.519 0 .763-.37.25-.376.335-.938l.134-.805h1.19l-.125 3.16H40.74v-.913h.721q.444 0 .662-.201.219-.21.218-.822V10.77q0-.655-.218-.88-.218-.235-.662-.235h-.72V8.75h9.53l.068 3.16h-1.2l-.083-.813q-.067-.629-.319-.964-.25-.336-.78-.335h-2.891v4.292h4.074z"
      ></path>
    </svg>
  );
}
